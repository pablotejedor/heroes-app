(this["webpackJsonpheroes-team"]=this["webpackJsonpheroes-team"]||[]).push([[0],{48:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var r=a(0),s=a.n(r),c=a(38),n=a.n(c),i=(a(48),a(26)),l=a(3),o=a(13),d=a.n(o),b=a(16),j=a(12),m=a(10),u=a(20),h=a.n(u),p=a(1),x=function(e){var t=e.history,a=Object(r.useState)(null),s=Object(j.a)(a,2),c=s[0],n=s[1],i=function(){var e=Object(b.a)(d.a.mark((function e(a){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h()({method:"POST",url:"http://challenge-react.alkemy.org",data:{email:a.email,password:a.password}});case 3:r=e.sent,localStorage.setItem("token",r.data.token),t.replace("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n("Invalid credentials");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)(m.c,{onSubmit:i,validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password||(t.password="Required"),t},initialValues:{email:"",password:""},children:function(e){var t=e.errors,a=e.isValid,r=e.touched;return Object(p.jsxs)(m.b,{children:[Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"inputEmail",className:"form-label",children:"Email"}),Object(p.jsx)(m.a,{type:"email",className:"form-control",id:"inputEmail",name:"email"}),t.email&&r.email?Object(p.jsx)("div",{className:"text-danger",children:t.email}):null]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"inputPassword",className:"form-label",children:"Password"}),Object(p.jsx)(m.a,{type:"password",className:"form-control",id:"inputPassword",name:"password"}),t.password&&r.password?Object(p.jsx)("div",{className:"text-danger",children:t.password}):null]}),Object(p.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:!a,children:"Enviar"}),c?Object(p.jsx)("div",{className:"text-danger",children:c}):null]})}})},O=a(42),v=function(e){var t=e.hero,a=e.heroTeam,r=e.setHeroTeam,s={backgroundColor:"".concat({good:"#236494",bad:"#b61617"}[t.biography.alignment]),width:"10rem"};return Object(p.jsxs)("div",{className:"card m-1 text-center",style:s,children:[Object(p.jsx)("img",{className:"card-img-top col-5",src:t.image.url,alt:t.id}),Object(p.jsxs)("div",{className:"card-body",children:[Object(p.jsx)("h5",{className:"card-title",children:t.name}),Object(p.jsx)("button",{onClick:function(){a.length>5?alert("Your team must have six members"):r((function(e){return[t].concat(Object(O.a)(e))}))},type:"button",className:"btn btn-light",children:"Add to my team"})]})]})},f=function(e){var t=e.heroTeam,a=e.setHeroTeam,s=Object(r.useState)(null),c=Object(j.a)(s,2),n=c[0],i=c[1],l=Object(r.useState)([]),o=Object(j.a)(l,2),u=o[0],x=o[1],O=function(){var e=Object(b.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h()({method:"GET",url:"https://cors-anywhere.herokuapp.com/https://superheroapi.com/api/380601706991561/search/".concat(t.search),data:{search:t.search}});case 3:a=e.sent,x(a.data.results),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i("No such hero with that name");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)("div",{className:"mt-5",children:Object(p.jsx)("div",{children:Object(p.jsx)("div",{className:"row",children:Object(p.jsxs)("div",{children:[Object(p.jsx)("h4",{children:"Search:"}),Object(p.jsx)("hr",{}),Object(p.jsx)(m.c,{onSubmit:O,validate:function(e){var t={};return e.search||(t.search="Required"),t},initialValues:{search:""},children:function(e){var t=e.errors,a=e.isValid,r=e.touched;return Object(p.jsxs)(m.b,{children:[Object(p.jsxs)("div",{className:"d-flex m-3",children:[Object(p.jsx)(m.a,{type:"search",className:"form-control m-1",name:"search",placeholder:"Search a hero by name"}),t.search&&r.search?Object(p.jsx)("div",{className:"text-danger",children:t.search}):null,Object(p.jsx)("button",{type:"submit",className:"btn btn-primary m-1",disabled:!a,children:"Search"})]}),n?Object(p.jsx)("div",{className:"text-danger",children:n}):null]})}}),Object(p.jsx)("div",{className:"d-flex flex-wrap m-3",children:u?u.map((function(e){return Object(p.jsx)(v,{className:"card m-3",hero:e,setHeroTeam:a,heroTeam:t},e.id)})):Object(p.jsx)("p",{className:"text-danger",children:"No results. Please enter a valid name"})})]})})})})},g=a(27),w=function(e){var t=e.hero,a=e.heroTeam,r=e.setHeroTeam,s={backgroundColor:"".concat({good:"#236494",bad:"#b61617"}[t.biography.alignment]),width:"10rem"};return Object(p.jsxs)("div",{className:"m-3 text-center rounded",style:s,children:[Object(p.jsx)("img",{className:"card-img-top",src:t.image.url,alt:t.id}),Object(p.jsxs)("div",{className:"card-body",children:[Object(p.jsx)("h5",{className:"card-title",children:t.name}),Object(p.jsxs)("div",{className:"d-flex flex-column",children:[Object(p.jsx)("button",{type:"button",className:"btn btn-success m-1","data-tip":"attributes","data-for":t.name+t.id,children:"Attributes"}),Object(p.jsxs)(g.a,{id:t.name+t.id,place:"top",type:"success",effect:"solid",children:["Combat: ",t.powerstats.combat,Object(p.jsx)("br",{}),"Durability: ",t.powerstats.durability,Object(p.jsx)("br",{}),"Intelligence: ",t.powerstats.intelligence,Object(p.jsx)("br",{}),"Power: ",t.powerstats.power,Object(p.jsx)("br",{}),"Speed: ",t.powerstats.speed,Object(p.jsx)("br",{}),"Strength: ",t.powerstats.strength]}),Object(p.jsx)("button",{type:"button",className:"btn btn-success m-1","data-tip":"info","data-for":t.id,"data-multiline":"true",id:t.id,children:"Info"}),Object(p.jsxs)(g.a,{id:t.id,place:"top",type:"success",effect:"solid",children:["Weight: ",t.appearance.weight[1],Object(p.jsx)("br",{}),"Height: ",t.appearance.height[1],Object(p.jsx)("br",{}),"Name: ",t.biography["full-name"],Object(p.jsx)("br",{}),"Aliases: ",t.biography.aliases.map((function(e){return e})).join(", "),Object(p.jsx)("br",{}),"Eye color: ",t.appearance["eye-color"],Object(p.jsx)("br",{}),"Hair color: ",t.appearance["hair-color"],Object(p.jsx)("br",{}),"Place of work: ",t.work.base]}),Object(p.jsx)("button",{onClick:function(){var e=a.filter((function(e){return e.id!==t.id}));r(e)},type:"button",className:"btn btn-danger m-1",children:"Delete"})]})]})]})},N=function(e){var t=e.heroTeam,a=e.setHeroTeam;return console.log(function(e){for(var t=0,a=0,r=0,s=0,c=0,n=0,i=0;i<e.length;i++)t+=parseInt(e[i].powerstats.combat)||0,a+=parseInt(e[i].powerstats.durability)||0,r+=parseInt(e[i].powerstats.intelligence)||0,s+=parseInt(e[i].powerstats.power)||0,c+=parseInt(e[i].powerstats.speed)||0,n+=parseInt(e[i].powerstats.strength)||0;return[{stat:"combat",value:t},{stat:"durability",value:a},{stat:"intelligence",value:r},{stat:"power",value:s},{stat:"speed",value:c},{stat:"strength",value:n}].sort((function(e,t){return t.value-e.value}))}(t)),Object(p.jsx)("div",{className:"d-flex",children:t.map((function(e){return Object(p.jsx)(w,{hero:e,heroTeam:t,setHeroTeam:a},e.id)}))})},y=function(){var e=Object(r.useState)([]),t=Object(j.a)(e,2),a=t[0],s=t[1];return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(f,{setHeroTeam:s,heroTeam:a}),Object(p.jsx)("h1",{children:"My team"}),Object(p.jsx)(N,{heroTeam:a,setHeroTeam:s})]})},T=a(21),k=a(43),S=["component"];var I=function(e){var t=e.component,a=Object(k.a)(e,S),r=localStorage.getItem("token");return Object(p.jsx)(l.b,Object(T.a)(Object(T.a)({},a),{},{render:function(e){return r?Object(p.jsx)(t,Object(T.a)({},e)):Object(p.jsx)(l.a,{to:"/login"})}}))},H=function(){return Object(p.jsx)(i.a,{children:Object(p.jsxs)(l.d,{children:[Object(p.jsx)(l.b,{exact:!0,path:"/login",component:x}),Object(p.jsx)(I,{exact:!0,path:"/",component:y})]})})};var E=function(){return Object(p.jsx)("div",{className:"container",children:Object(p.jsx)(H,{})})};n.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(E,{})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.db39ac76.chunk.js.map