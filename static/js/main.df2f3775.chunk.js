(this["webpackJsonpheroes-team"]=this["webpackJsonpheroes-team"]||[]).push([[0],{47:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var c=a(0),s=a.n(c),r=a(37),n=a.n(r),i=(a(47),a(25)),l=a(2),o=a(12),d=a.n(o),j=a(16),m=a(11),b=a(9),h=a(20),u=a.n(h),O=a(1),x=function(e){var t=e.history,a=Object(c.useState)(null),s=Object(m.a)(a,2),r=s[0],n=s[1],i=function(){var e=Object(j.a)(d.a.mark((function e(a){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u()({method:"POST",url:"http://challenge-react.alkemy.org",data:{email:a.email,password:a.password}});case 3:c=e.sent,localStorage.setItem("token",c.data.token),t.replace("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n("Invalid credentials");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)(b.c,{onSubmit:i,validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password||(t.password="Required"),t},initialValues:{email:"",password:""},children:function(e){var t=e.errors,a=e.isValid,c=e.touched;return Object(O.jsxs)(b.b,{children:[Object(O.jsxs)("div",{className:"mb-3",children:[Object(O.jsx)("label",{htmlFor:"inputEmail",className:"form-label",children:"Email"}),Object(O.jsx)(b.a,{type:"email",className:"form-control",id:"inputEmail",name:"email"}),t.email&&c.email?Object(O.jsx)("div",{className:"text-danger",children:t.email}):null]}),Object(O.jsxs)("div",{className:"mb-3",children:[Object(O.jsx)("label",{htmlFor:"inputPassword",className:"form-label",children:"Password"}),Object(O.jsx)(b.a,{type:"password",className:"form-control",id:"inputPassword",name:"password"}),t.password&&c.password?Object(O.jsx)("div",{className:"text-danger",children:t.password}):null]}),Object(O.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:!a,children:"Enviar"}),r?Object(O.jsx)("div",{className:"text-danger",children:r}):null]})}})},p=a(41),v=function(e){var t=e.hero,a=e.setHeroTeam,c={backgroundColor:"".concat({good:"#236494",bad:"#b61617"}[t.biography.alignment])};return Object(O.jsx)("div",{className:"card ms-3 animate__animated animate__fadeIn m-5",style:c,children:Object(O.jsxs)("div",{className:"row no-gutters",children:[Object(O.jsx)("div",{className:"col-md-4",children:Object(O.jsx)("img",{src:t.image.url,className:"card-img",alt:t.id})}),Object(O.jsxs)("div",{className:"col-md-8",children:[Object(O.jsxs)("h5",{children:[" ",t.name," "]}),Object(O.jsx)("button",{onClick:function(){return a((function(e){return[t].concat(Object(p.a)(e))}))},type:"button",className:"btn btn-light",children:"Add to my team"})]})]})})},f=function(e){var t=e.setHeroTeam,a=Object(c.useState)(null),s=Object(m.a)(a,2),r=s[0],n=s[1],i=Object(c.useState)([]),l=Object(m.a)(i,2),o=l[0],h=l[1],x=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u()({method:"GET",url:"https://cors-anywhere.herokuapp.com/https://superheroapi.com/api/380601706991561/search/".concat(t.search),data:{search:t.search}});case 3:a=e.sent,h(a.data.results),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n("No such hero with that name");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)("div",{className:"mt-5",children:Object(O.jsx)("div",{children:Object(O.jsxs)("div",{className:"row",children:[Object(O.jsxs)("div",{className:"col-5",children:[Object(O.jsx)("h4",{children:"Search:"}),Object(O.jsx)("hr",{}),Object(O.jsx)(b.c,{onSubmit:x,validate:function(e){var t={};return e.search||(t.search="Required"),t},initialValues:{search:""},children:function(e){var t=e.errors,a=e.isValid,c=e.touched;return Object(O.jsxs)(b.b,{children:[Object(O.jsxs)("div",{className:"mb-3",children:[Object(O.jsx)(b.a,{type:"search",className:"form-control",name:"search",placeholder:"Search a hero by name"}),t.search&&c.search?Object(O.jsx)("div",{className:"text-danger",children:t.search}):null]}),Object(O.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:!a,children:"Search"}),r?Object(O.jsx)("div",{className:"text-danger",children:r}):null]})}})]}),Object(O.jsxs)("div",{className:"col-7",children:[Object(O.jsx)("h4",{children:" Results "}),Object(O.jsx)("hr",{}),Object(O.jsx)("div",{className:"card",children:o?o.map((function(e){return Object(O.jsx)(v,{hero:e,setHeroTeam:t},e.id)})):Object(O.jsx)("p",{className:"text-danger",children:"No results. Please enter a valid name"})})]})]})})})},N=function(e){var t=e.hero;return console.log(t),Object(O.jsx)("div",{className:"card ms-3 animate__animated animate__fadeIn m-5",children:Object(O.jsxs)("div",{className:"row no-gutters",children:[Object(O.jsx)("div",{className:"col-md-4",children:Object(O.jsx)("img",{src:t.image.url,className:"card-img",alt:t.id})}),Object(O.jsx)("div",{className:"col-md-8",children:Object(O.jsxs)("h2",{children:[" ",t.name," "]})})]})})},g=function(e){var t=e.heroTeam;return console.log(t),Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:"MyTeam"}),t.map((function(e){return Object(O.jsx)(N,{hero:e},e.id)}))]})},w=function(){var e=Object(c.useState)([]),t=Object(m.a)(e,2),a=t[0],s=t[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(f,{setHeroTeam:s}),Object(O.jsx)(g,{heroTeam:a})]})},y=a(21),k=a(42),S=["component"];var T=function(e){var t=e.component,a=Object(k.a)(e,S),c=localStorage.getItem("token");return Object(O.jsx)(l.b,Object(y.a)(Object(y.a)({},a),{},{render:function(e){return c?Object(O.jsx)(t,Object(y.a)({},e)):Object(O.jsx)(l.a,{to:"/login"})}}))},_=function(){return Object(O.jsx)(i.a,{children:Object(O.jsxs)(l.d,{children:[Object(O.jsx)(l.b,{exact:!0,path:"/login",component:x}),Object(O.jsx)(T,{exact:!0,path:"/",component:w})]})})};var I=function(){return Object(O.jsx)("div",{className:"container",children:Object(O.jsx)(_,{})})};n.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(I,{})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.df2f3775.chunk.js.map