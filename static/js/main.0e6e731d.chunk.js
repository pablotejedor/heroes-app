(this["webpackJsonpheroes-team"]=this["webpackJsonpheroes-team"]||[]).push([[0],{44:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var c=a(0),r=a.n(c),s=a(35),n=a.n(s),l=(a(44),a(23)),i=a(2),o=a(11),d=a.n(o),j=a(14),b=a(18),h=a(9),u=a(17),m=a.n(u),x=a(1),p=function(e){var t=e.history,a=Object(c.useState)(null),r=Object(b.a)(a,2),s=r[0],n=r[1],l=function(){var e=Object(j.a)(d.a.mark((function e(a){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m()({method:"POST",url:"http://challenge-react.alkemy.org",data:{email:a.email,password:a.password}});case 3:c=e.sent,localStorage.setItem("token",c.data.token),t.replace("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n("Invalid credentials");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)(h.c,{onSubmit:l,validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password||(t.password="Required"),t},initialValues:{email:"",password:""},children:function(e){var t=e.errors,a=e.isValid,c=e.touched;return Object(x.jsxs)(h.b,{children:[Object(x.jsxs)("div",{className:"mb-3",children:[Object(x.jsx)("label",{htmlFor:"inputEmail",className:"form-label",children:"Email"}),Object(x.jsx)(h.a,{type:"email",className:"form-control",id:"inputEmail",name:"email"}),t.email&&c.email?Object(x.jsx)("div",{className:"text-danger",children:t.email}):null]}),Object(x.jsxs)("div",{className:"mb-3",children:[Object(x.jsx)("label",{htmlFor:"inputPassword",className:"form-label",children:"Password"}),Object(x.jsx)(h.a,{type:"password",className:"form-control",id:"inputPassword",name:"password"}),t.password&&c.password?Object(x.jsx)("div",{className:"text-danger",children:t.password}):null]}),Object(x.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:!a,children:"Enviar"}),s?Object(x.jsx)("div",{className:"text-danger",children:s}):null]})}})},O=function(){return Object(x.jsx)("div",{className:"mt-5",children:Object(x.jsx)("h1",{children:"MyTeam"})})},v=function(){var e=Object(c.useState)(null),t=Object(b.a)(e,2),a=t[0],r=t[1],s=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m()({method:"GET",url:"https://superheroapi.com/api/380601706991561/search/".concat(t.search),data:{search:t.search}});case 3:a=e.sent,console.log(a),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r("No such hero with that name");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)("div",{className:"mt-5",children:Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:"row",children:[Object(x.jsxs)("div",{className:"col-5",children:[Object(x.jsx)("h4",{children:"Search:"}),Object(x.jsx)("hr",{}),Object(x.jsx)(h.c,{onSubmit:s,validate:function(e){var t={};return e.search?/^[a-zA-Z]+$/.test(e.search)||(t.search="Please enter a valid input"):t.search="Required",t},initialValues:{search:""},children:function(e){var t=e.errors,c=e.isValid,r=e.touched;return Object(x.jsxs)(h.b,{children:[Object(x.jsxs)("div",{className:"mb-3",children:[Object(x.jsx)(h.a,{type:"search",className:"form-control",name:"search",placeholder:"Search a hero by name"}),t.search&&r.search?Object(x.jsx)("div",{className:"text-danger",children:t.search}):null]}),Object(x.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:!c,children:"Search"}),a?Object(x.jsx)("div",{className:"text-danger",children:a}):null]})}})]}),Object(x.jsxs)("div",{className:"col-7",children:[Object(x.jsx)("h4",{children:" Results "}),Object(x.jsx)("hr",{})]})]}),Object(x.jsx)(O,{})]})})},f=function(){return Object(x.jsx)(v,{})},N=a(19),w=a(39),g=["component"];var y=function(e){var t=e.component,a=Object(w.a)(e,g),c=localStorage.getItem("token");return Object(x.jsx)(i.b,Object(N.a)(Object(N.a)({},a),{},{render:function(e){return c?Object(x.jsx)(t,Object(N.a)({},e)):Object(x.jsx)(i.a,{to:"/login"})}}))},S=function(){return Object(x.jsx)(l.a,{children:Object(x.jsxs)(i.d,{children:[Object(x.jsx)(i.b,{exact:!0,path:"/login",component:p}),Object(x.jsx)(y,{exact:!0,path:"/",component:f})]})})};var k=function(){return Object(x.jsx)("div",{className:"container",children:Object(x.jsx)(S,{})})};n.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(k,{})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.0e6e731d.chunk.js.map